<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <!-- â˜…â˜…â˜… iPadæœ€é©åŒ–â‘ ï¼šèª¤æ“ä½œã«ã‚ˆã‚‹æ‹¡å¤§ãƒ»ç¸®å°ã‚’ç¦æ­¢ â˜…â˜…â˜… -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>æœŸæœ«è©¦é¨“ãƒ»æœ€çµ‚ãƒã‚§ãƒƒã‚¯</title>

  <!-- â˜…â˜…â˜… iPadæœ€é©åŒ–â‘¡ï¼šSafariã®UIã‚’æ¶ˆã™ãŸã‚ã®å‘ªæ–‡ â˜…â˜…â˜… -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="æœ€çµ‚ãƒã‚§ãƒƒã‚¯">

  <style>
    /* --- è¶…ãƒ»æœ€å°é™CSSã€iPadæœ€é©åŒ–ç‰ˆã€‘ --- */
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Hiragino Kaku Gothic ProN", "ãƒ¡ã‚¤ãƒªã‚ª", Meiryo, sans-serif;
      background-color: #E6F2F7;
      margin: 0;
      padding: 1rem;
      color: #333;
      -webkit-user-select: none;
      user-select: none;
      font-size: 1.125rem;
    }
    .container {
      max-width: 768px;
      margin: 0 auto;
    }
    .screen { display: none; }
    .button {
      display: block;
      width: 90%;
      max-width: 500px;
      margin: 1.5rem auto;
      padding: 1.75rem;
      border-radius: 16px;
      background-color: #4CAF50;
      color: white;
      text-align: center;
      font-size: 1.75rem;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .button { border: none; -webkit-appearance: none; appearance: none; -webkit-tap-highlight-color: transparent; }

    /* ===== HOMEç”»é¢ ç§‘ç›®ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ ===== */
    .subject-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1rem;
      max-width: 600px;
      margin: 2rem auto;
    }
    .subject-button {
      padding: 2rem 1rem;
      border-radius: 16px;
      background-color: #4CAF50;
      color: white;
      text-align: center;
      font-size: 1.5rem;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      border: none;
      -webkit-appearance: none;
      appearance: none;
      -webkit-tap-highlight-color: transparent;
    }
    .subject-button:active { opacity: 0.85; }
    .question-box {
      background-color: white;
      padding: 2rem;
      margin: 1.5rem 0;
      border-radius: 16px;
      font-size: 1.5rem;
      line-height: 1.7;
    }
    .option-button {
      display: block;
      width: 100%;
      margin-top: 1.25rem;
      padding: 1.25rem;
      border: 2px solid #ddd;
      border-radius: 16px;
      background-color: white;
      font-size: 1.25rem;
      cursor: pointer;
      text-align: left;
    }
    .correct { background-color: #C8E6C9; border-color: #4CAF50; font-weight: bold; }
    .incorrect { background-color: #FFCDD2; border-color: #F44336; }
    .explanation {
      background-color: #FFF9C4;
      padding: 1.25rem;
      margin-top: 1.5rem;
      border-radius: 12px;
      border-left: 6px solid #FFEB3B;
      font-size: 1.1rem;
    }
    .self-eval-container {
        display: flex;
        justify-content: space-around;
        margin-top: 1.5rem;
    }
    .self-eval-button {
      display: inline-block;
      width: 48%;
      padding: 1.25rem;
      border-radius: 12px;
      text-align: center;
      font-weight: bold;
      cursor: pointer;
      font-size: 1.25rem;
    }
    .perfect-btn { background-color: #2196F3; color: white; }
    .review-btn { background-color: #FF9800; color: white; }

    /* --- ç”»é¢å†…ãƒŠãƒ“ï¼ˆæˆ»ã‚‹ï¼‰ --- */
    .topbar { display: flex; justify-content: flex-end; align-items: center; gap: .5rem; }
    .nav-btn { border: none; -webkit-appearance: none; appearance: none; -webkit-tap-highlight-color: transparent; cursor: pointer; padding: .6rem .9rem; border-radius: 10px; background: #1f2937; color: #fff; font-size: 1rem; }
    .nav-btn:active { opacity: .8; }
  </style>
</head>
<body>

  <div class="container">

    <!-- ===== HOMEç”»é¢ ===== -->
    <div id="home-screen" class="screen" style="display:block;">
      <h1 style="text-align: center; font-size: 2.5rem;">æœŸæœ«è©¦é¨“ãƒ»æœ€çµ‚ãƒã‚§ãƒƒã‚¯</h1>
      <div id="mode-select" style="max-width:500px;margin:0.5rem auto 1rem auto;padding:.6rem 1rem;background:#fff;border-radius:12px;border:1px solid #e5e7eb;font-size:1rem;">
        <div style="display:flex;align-items:center;gap:.75rem;flex-wrap:wrap;">
          <strong>å‡ºé¡Œãƒ¢ãƒ¼ãƒ‰:</strong>
          <label style="display:flex;align-items:center;gap:.35rem;">
            <input type="radio" name="mode" value="all" checked>
            <span>å…¨å•</span>
          </label>
          <label style="display:flex;align-items:center;gap:.35rem;">
            <input type="radio" name="mode" value="review">
            <span>å¾©ç¿’ï¼ˆã‚ã‚„ã—ã„ã®ã¿ï¼‰</span>
          </label>
        </div>
      </div>
      <div class="subject-grid">
        <button class="subject-button" type="button" data-subject="english">è‹±èª</button>
        <button class="subject-button" type="button" data-subject="kokugo">å›½èª</button>
        <button class="subject-button" type="button" data-subject="rika">ç†ç§‘</button>
        <button class="subject-button" type="button" data-subject="shakai">ç¤¾ä¼š</button>
        <button class="subject-button" type="button" data-subject="kateika">å®¶åº­ãƒ»æŠ€ç§‘</button>
        <button class="subject-button" type="button" data-subject="bijutsu">ç¾è¡“</button>
        <button class="subject-button" type="button" data-subject="taiiku">ä½“è‚²</button>
      </div>
    </div>

    <!-- ===== å•é¡Œç”»é¢ ===== -->
    <div id="quiz-screen" class="screen">
      <div class="topbar">
        <button id="back-home-btn" class="nav-btn" type="button">ğŸ  ãƒ›ãƒ¼ãƒ ã¸</button>
      </div>
      <h2 id="quiz-title" style="text-align: center; font-size: 2rem;"></h2>
      <div id="progress-text" style="text-align: center; color: #555; font-size: 1.2rem;"></div>
      <div id="question-box" class="question-box">
        <div id="question-text"></div>
        <div id="options-container"></div>
        <div id="explanation-box" class="explanation" style="display:none;"></div>
      </div>
      <div id="self-eval-container" class="self-eval-container"></div>
      <div id="retry-container" class="self-eval-container" style="margin-top: .5rem;"></div>
    </div>

  </div>

  <script>
    // ===== HOMEãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯/ã‚¿ãƒƒãƒã‚’ç¢ºå®Ÿã«æ‹¾ã†ãƒã‚¤ãƒ³ãƒ‰ =====
    function bindHomeButtons() {
      const home = document.getElementById('home-screen');
      if (!home) return;
      const handler = (subj) => (e) => { e.preventDefault(); startQuiz(subj); };
      home.querySelectorAll('.subject-button[data-subject]').forEach(btn => {
        const subj = btn.dataset.subject;
        // å¤šé‡ç™»éŒ²ã‚’é¿ã‘ã‚‹ãŸã‚ä¸€åº¦ã ã‘
        if (!btn.__bound) {
          btn.addEventListener('click', handler(subj), { passive: false });
          btn.addEventListener('touchend', handler(subj), { passive: false });
          btn.__bound = true;
        }
      });
    }

    // ===== 1. å•é¡Œãƒ‡ãƒ¼ã‚¿æœ¬ä½“ï¼ˆæ•™ç§‘ã”ã¨ã«åˆ†å‰²ã—ã€å®‰å…¨è£…ç½®ã‚’è¿½åŠ ï¼‰ =====

    // --- è‹±èªã®å•é¡Œãƒ‡ãƒ¼ã‚¿ ---
    const Q_ENGLISH = [
      { "id": "eng_s01", "type": "choice", "question": "ã€Œãšã£ã¨ã€œã®çŠ¶æ…‹ã§ã™ã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã™ã€ç¾åœ¨å®Œäº†å½¢ï¼ˆç¶™ç¶šï¼‰ã®åŸºæœ¬çš„ãªå½¢ã¯ã©ã‚Œï¼Ÿ", "options": { "a": "ä¸»èª + have + å‹•è©ã®-ingå½¢", "b": "ä¸»èª + have + been ~", "c": "ä¸»èª + beå‹•è© + éå»åˆ†è©" }, "answer": "b", "explanation": "ã€è™ã®å·»ã€‘ç¾åœ¨å®Œäº†å½¢ï¼ˆç¶™ç¶šï¼‰: ä¸»èª + have / has + been ~" },
      { "id": "eng_s02", "type": "choice", "question": "æ¬¡ã®æ–‡ã®( )ã«ã€for ã‹ since ã®ã©ã¡ã‚‰ã‹ãŒå…¥ã‚‹ã‚ˆã€‚\n\nI have been a volunteer ( ) 2000.", "options": { "a": "for", "b": "since" }, "answer": "b", "explanation": "ã€è™ã®å·»ã€‘since + æ™‚ç‚¹ (2000å¹´ã¨ã„ã†éå»ã®æ™‚ç‚¹) ãŒãƒ«ãƒ¼ãƒ«ã ã‚ˆã€‚" },
      { "id": "eng_s03", "type": "choice", "question": "ã€Œãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã‚’çµŒå–¶ã—ã¦ã„ã‚‹ãŠã˜ã•ã‚“ã€ã¨ã„ã†æ„å‘³ã«ãªã‚‹ã®ã¯ã©ã‚Œã‹ãªï¼Ÿ", "options": { "a": "an uncle which runs a restaurant", "b": "an uncle who runs a restaurant", "c": "an uncle runs a restaurant" }, "answer": "b", "explanation": "ã€è™ã®å·»ã€‘é–¢ä¿‚ä»£åè©ï¼ˆäººï¼‰: åè©ï¼ˆäººï¼‰+ who + å‹•è©ã€‚äººãŒç›¸æ‰‹ã ã‹ã‚‰ who ã‚’ä½¿ã†ã‚ˆã€‚" },
      { "id": "eng_s04_who_variation1", "type": "choice", "question": "ã€Œæ•°å­¦ãŒå¾—æ„ãªäººã€ã¨ã„ã†æ„å‘³ã«ãªã‚‹ã®ã¯ã©ã‚Œï¼Ÿ (ã‚¨ã‚¤ã‚´ãƒ©ãƒœ Room46ã‚ˆã‚Š)", "options": { "a": "a person who good at math", "b": "a person who is good at math", "c": "a person is good at math" }, "answer": "b", "explanation": "ã€è™ã®å·»ã€‘é–¢ä¿‚ä»£åè©ï¼ˆäººï¼‰: who ã®å¾Œã‚ã«ã¯ã€beå‹•è©(is)ã‚‚ã¡ã‚ƒã‚“ã¨å¿…è¦ã ã‚ˆï¼" },
      { "id": "eng_s05_who_variation2", "type": "choice", "question": "ã€Œæ±ºã—ã¦ã‚ãã‚‰ã‚ãªã„äººã€…ã€ã¨ã„ã†æ„å‘³ã«ãªã‚‹ã®ã¯ã©ã‚Œï¼Ÿ (ã‚¨ã‚¤ã‚´ãƒ©ãƒœ Room46ã‚ˆã‚Š)", "options": { "a": "people who never gives up", "b": "people who never give up", "c": "people never give up" }, "answer": "b", "explanation": "ã€è™ã®å·»ã€‘é–¢ä¿‚ä»£åè©ï¼ˆäººï¼‰: å…ˆè¡Œè©(people)ãŒè¤‡æ•°å½¢ã ã‹ã‚‰ã€å‹•è©(give)ã« s ã¯ä»˜ã‹ãªã„ã®ãŒãƒ«ãƒ¼ãƒ«ï¼" },
      { "id": "eng_s06_which_variation1", "type": "choice", "question": "ã€Œå¹¸ã›ãªçµæœ«ã®æ˜ ç”»ã€ã¨ã„ã†æ„å‘³ã«ãªã‚‹ã®ã¯ã©ã‚Œï¼Ÿ (ã‚¨ã‚¤ã‚´ãƒ©ãƒœ Room47ã‚ˆã‚Š)", "options": { "a": "a movie which has a happy ending", "b": "a movie which have a happy ending", "c": "a movie has a happy ending" }, "answer": "a", "explanation": "ã€è™ã®å·»ã€‘é–¢ä¿‚ä»£åè©ï¼ˆãƒ¢ãƒï¼‰: å…ˆè¡Œè©(a movie)ãŒå˜æ•°å½¢ã ã‹ã‚‰ã€å‹•è©ã¯ has ã«ãªã‚‹ã‚ˆï¼" },
      { "id": "eng_a01", "type": "choice", "question": "ã€Œç§ã«ã“ã‚Œã®ä½¿ã„æ–¹ã‚’è¦‹ã›ã¦ã€ã¨ã€ã‚„ã‚Šæ–¹ã‚’è¦‹ã›ã¦ã»ã—ã„æ™‚ã«ä½¿ã†ã®ã¯ã©ã£ã¡ï¼Ÿ", "options": { "a": "tell me how to use this", "b": "show me how to use this", "c": "ask me how to use this" }, "answer": "b", "explanation": "ã€è™ã®å·»ã€‘é–“æ¥ç–‘å•æ–‡: show ã¯ã€Œè¦‹ã›ã‚‹ã€ã€tell ã¯ã€Œè¨€ã†ã€ã€‚ã‚„ã‚Šæ–¹ã ã‹ã‚‰ show ãŒãƒ”ãƒƒã‚¿ãƒªï¼" },
      { "id": "eng_a02", "type": "choice", "question": "ã€Œçˆ†å¼¾ãŒè½ã¨ã•ã‚ŒãŸã€ã¨ã€ã€œã•ã‚ŒãŸã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã™å—å‹•æ…‹ã®æ–‡ã¯ã©ã‚Œï¼Ÿ", "options": { "a": "The bomb dropped.", "b": "The bomb was dropped.", "c": "The bomb is dropped." }, "answer": "b", "explanation": "ã€è™ã®å·»ã€‘å—å‹•æ…‹ï¼ˆéå»å½¢ï¼‰: ä¸»èª + was / were + éå»åˆ†è©ã€‚éå»ã®è©±ã ã‹ã‚‰ was ã‚’ä½¿ã†ã‚ˆã€‚" },
      { "id": "eng_a03", "type": "choice", "question": "ã€Œãã®çŸ¥ã‚‰ã›ã¯ç§ã‚’æ‚²ã—ãã•ã›ãŸã€ã¨ã€Aã‚’Bã®çŠ¶æ…‹ã«ã€Œã•ã›ãŸã€ã¨ã„ã†æ„å‘³ã«ãªã‚‹ã®ã¯ï¼Ÿ", "options": { "a": "The news was sad for me.", "b": "I was sad by the news.", "c": "The news made me sad." }, "answer": "c", "explanation": "ã€è™ã®å·»ã€‘ä½¿å½¹å‹•è© make: make + äºº/ãƒ¢ãƒ + å½¢å®¹è© ã®å½¢ã ã‚ˆã€‚" },
      { "id": "eng_a04_what_to_variation1", "type": "choice", "question": "ã€Œä½•ã‚’é£²ã‚€ã¹ãã‹æ±ºã‚ã‚‰ã‚Œãªã„ã€ã¨ã„ã†æ„å‘³ã«ãªã‚‹ã®ã¯ã©ã‚Œï¼Ÿ (ã‚¨ã‚¤ã‚´ãƒ©ãƒœ Room35ã‚ˆã‚Š)", "options": { "a": "I can't decide what drink.", "b": "I can't decide what to drink.", "c": "I can't decide to what drink." }, "answer": "b", "explanation": "ã€è™ã®å·»ã€‘é–“æ¥ç–‘å•æ–‡: what to + å‹•è©ã®åŸå½¢ ã®å½¢ãŒåŸºæœ¬ã ã‚ˆã€‚" },
      { "id": "eng_sort01", "type": "sort", "question": "æ—¥æœ¬èªã«åˆã†ã‚ˆã†ã«ã€ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ä¸¦ã¹æ›¿ãˆã¦ã¿ã‚ˆã†ï¼\n\nã€Œç§ã«ã¯ã€åºƒå³¶ã«ä½ã‚“ã§ã„ã‚‹ãŠã˜ãŒã„ã¾ã™ã€", "options": ["lives", "an", "who", "in", "I", "uncle", "have", "Hiroshima."], "answer": ["I", "have", "an", "uncle", "who", "lives", "in", "Hiroshima."], "explanation": "ã€è™ã®å·»ã€‘é–¢ä¿‚ä»£åè©ï¼ˆäººï¼‰: I have an uncle + He lives in Hiroshima. ã‚’ who ã§ç¹‹ã’ã‚‹ã‚ˆï¼" },
      { "id": "eng_sort02_extra", "type": "sort_extra", "question": "æ—¥æœ¬èªã«åˆã†ã‚ˆã†ã«ä¸¦ã¹æ›¿ãˆã‚ˆã†ï¼ãŸã ã—ã€ä¸è¦ãªèªãŒ1ã¤ã‚ã‚‹ã‚ˆã€‚\n\nã€Œã“ã‚Œã¯åºƒå³¶ã¸è¡Œããã®ãƒã‚¹ã§ã™ã€", "options": ["the", "is", "a", "goes", "that", "bus", "this", "to", "Hiroshima."], "answer": ["This", "is", "the", "bus", "that", "goes", "to", "Hiroshima."], "extraWord": "a", "explanation": "ã€Œãã®ãƒã‚¹ã€ã¨ç‰¹å®šã—ã¦ã„ã‚‹ã®ã§ the ã‚’ä½¿ã†ã€‚a ã¯ä¸è¦ã ã‚ˆã€‚" },
      { "id": "eng_vocab_s01", "type": "choice", "question": "ã€Œå¹³å’Œã€ã‚’æ„å‘³ã™ã‚‹è‹±å˜èªã¯ã©ã‚Œï¼Ÿ", "options": { "a": "peace", "b": "piece", "c": "pork" }, "answer": "a", "explanation": "ã€Sç´šå˜èªã€‘peace = å¹³å’Œã€‚pieceã¯ã€Œã‹ã‘ã‚‰ã€ã ã‹ã‚‰é–“é•ãˆãªã„ã‚ˆã†ã«ï¼" },
      { "id": "eng_vocab_s02", "type": "choice", "question": "ã€Œãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢ã€ã‚’æ„å‘³ã™ã‚‹è‹±å˜èªã¯ã©ã‚Œï¼Ÿ", "options": { "a": "borantia", "b": "volunteer", "c": "barrier" }, "answer": "b", "explanation": "ã€Sç´šå˜èªã€‘volunteer = ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢ã€‚ã‚¹ãƒšãƒ«ã‚‚æ›¸ã‘ã‚‹ã‚ˆã†ã«ã—ã¦ãŠã“ã†ï¼" },
      { "id": "eng_vocab_s03", "type": "choice", "question": "ã€Œè£…ç½®ã€ã‚„ã€Œæ©Ÿå™¨ã€ã‚’æ„å‘³ã™ã‚‹è‹±å˜èªã¯ã©ã‚Œï¼Ÿ", "options": { "a": "drive", "b": "divide", "c": "device" }, "answer": "c", "explanation": "ã€Sç´šå˜èªã€‘device = è£…ç½®ã€‚AI device (AIè£…ç½®) ã®ã‚ˆã†ã«ä½¿ã‚ã‚Œã‚‹ã‚ˆã€‚" },
      { "id": "eng_vocab_s04", "type": "choice", "question": "ã€Œã€œã‚’ç¿»è¨³ã™ã‚‹ã€ã¨ã„ã†æ„å‘³ã®å‹•è©ã¯ã©ã‚Œï¼Ÿ", "options": { "a": "transport", "b": "translate", "c": "transfer" }, "answer": "b", "explanation": "ã€Sç´šå˜èªã€‘translate = ã€œã‚’ç¿»è¨³ã™ã‚‹ã€‚translation software (ç¿»è¨³ã‚½ãƒ•ãƒˆ)ã§è¦šãˆã‚ˆã†ã€‚" },
      { "id": "eng_vocab_a01", "type": "choice", "question": "ã€Œæ”¿åºœã€ã‚’æ„å‘³ã™ã‚‹è‹±å˜èªã¯ã©ã‚Œï¼Ÿ", "options": { "a": "government", "b": "goverment", "c": "govermentt" }, "answer": "a", "explanation": "ã€Aç´šå˜èªã€‘government = æ”¿åºœã€‚n ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«ã€ã‚¹ãƒšãƒ«ãŒè¶…é‡è¦ï¼" },
      { "id": "eng_vocab_a02", "type": "choice", "question": "ã€Œé›£æ°‘ã€ã‚’æ„å‘³ã™ã‚‹è‹±å˜èªã¯ã©ã‚Œï¼Ÿ", "options": { "a": "refuge", "b": "refuse", "c": "refugee" }, "answer": "c", "explanation": "ã€Aç´šå˜èªã€‘refugee = é›£æ°‘ã€‚æ‰åŸåƒç•ã®ç‰©èªã§å‡ºã¦ããŸã­ã€‚" },
      { "id": "eng_vocab_a03", "type": "choice", "question": "ã€Œä¾¿åˆ©ãªã€ã¨ã„ã†æ„å‘³ã®å½¢å®¹è©ã¯ã©ã‚Œï¼Ÿ", "options": { "a": "convinient", "b": "konbini", "c": "convenient" }, "answer": "c", "explanation": "ã€Aç´šå˜èªã€‘convenient = ä¾¿åˆ©ãªã€‚ã“ã‚Œã‚‚ã‚¹ãƒšãƒ«ãŒé›£ã—ã„ã‹ã‚‰è¦æ³¨æ„ï¼" },
      { "id": "eng_vocab_a04", "type": "choice", "question": "ç†Ÿèªã€Œpass ( )ã€ã§ã€ã€Œã€œã‚’ä¼ãˆã‚‹ã€ã¨ã„ã†æ„å‘³ã«ãªã‚‹ã®ã¯ï¼Ÿ", "options": { "a": "in", "b": "on", "c": "out" }, "answer": "b", "explanation": "ã€Aç´šç†Ÿèªã€‘pass on = ã€œã‚’ä¼ãˆã‚‹ã€‚pass out ã¯ã€Œæ°—çµ¶ã™ã‚‹ã€ã ã‹ã‚‰å…¨ç„¶é•ã†æ„å‘³ã ã‚ˆã€‚" },
      { "id": "eng_vocab_a05", "type": "choice", "question": "ç†Ÿèªã€Œtake ( )ã€ã§ã€ã€Œè¡Œå‹•ã‚’èµ·ã“ã™ã€ã¨ã„ã†æ„å‘³ã«ãªã‚‹ã®ã¯ï¼Ÿ", "options": { "a": "action", "b": "act", "c": "actor" }, "answer": "a", "explanation": "ã€Aç´šç†Ÿèªã€‘take action = è¡Œå‹•ã‚’èµ·ã“ã™ã€‚ã“ã‚Œã¯ã‚»ãƒƒãƒˆã§è¦šãˆã‚ˆã†ï¼" }
    ];

    // --- å›½èªã®å•é¡Œãƒ‡ãƒ¼ã‚¿ ---
    const Q_KOKUGO = [

  {"id": "koku_s01", "type": "choice", "question": "ã€Œä¼šç¤¾ã®å°†æ¥ã‚’ãƒ¢ã‚µã‚¯ã™ã‚‹ã€‚ã€\nã“ã®ã‚«ã‚¿ã‚«ãƒŠã‚’æ¼¢å­—ã§æ­£ã—ãæ›¸ã„ãŸã‚‚ã®ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "æ¨¡ç´¢", "b": "æ‘¸ç´¢", "c": "æ¨¡æŸµ"}, "answer": "a", "explanation": "ã€Œæ‰‹æœ¬ã€ã‚„ã€Œæ¨¡æ§˜ã€ã®ã€Œæ¨¡ã€ã¨ã€ã€Œæ¢ã™ã€ã¨ã„ã†æ„å‘³ã®ã€Œç´¢ã€ã‚’ä½¿ã„ã¾ã™ã€‚ã€Œæ‘¸ç´¢ã€ã®ã€Œæ‘¸ã€ã¯ã€Œæ‰‹æ¢ã‚Šã€ã¨ã„ã†æ„å‘³ã§é–“é•ã„ã‚„ã™ã„ã®ã§æ³¨æ„ï¼"},
  {"id": "koku_s02", "type": "choice", "question": "ã€Œãƒãƒ§ã‚¦ã‚µã®å¯¾è±¡ã¨ãªã‚‹ã€‚ã€\nã“ã®ã‚«ã‚¿ã‚«ãƒŠã‚’æ¼¢å­—ã§æ­£ã—ãæ›¸ã„ãŸã‚‚ã®ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "èª¿æŸ»", "b": "èª¿è»Š", "c": "æœæŸ»"}, "answer": "a", "explanation": "ã€Œèª¿ã¹ã‚‹ã€ã¨ã„ã†æ„å‘³ã®ã€Œèª¿ã€ã¨ã€ã€Œæ¤œæŸ»ã€ã®ã€ŒæŸ»ã€ã‚’çµ„ã¿åˆã‚ã›ãŸè¨€è‘‰ã§ã™ã€‚"},
  {"id": "koku_s03", "type": "choice", "question": "ã€Œè²¬ä»»ã‚’ãƒ†ãƒ³ã‚«ã™ã‚‹ã€‚ã€\nã“ã®ã‚«ã‚¿ã‚«ãƒŠã‚’æ¼¢å­—ã§æ­£ã—ãæ›¸ã„ãŸã‚‚ã®ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "è»¢åŒ–", "b": "ç‚¹ç«", "c": "è»¢å«"}, "answer": "c", "explanation": "ã€Œå«ï¼ˆã‚ˆã‚ï¼‰ã€ã¨ã„ã†å­—ã«ã¯ã€Œè‡ªåˆ†ã®éã¡ã‚’äººã®ã›ã„ã«ã™ã‚‹ã€ã¨ã„ã†æ„å‘³ã‚‚ã‚ã‚Šã¾ã™ã€‚ã€Œè²¬ä»»ã‚’ãŠå«ã«å‡ºã™ã€ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã™ã‚‹ã¨è¦šãˆã‚„ã™ã„ã§ã™ã€‚"},
  {"id": "koku_s04", "type": "choice", "question": "ã€Œã“ã®ãƒ‘ãƒ³ã¯ã€ã¾ã é£Ÿã¹ã‚‰ã‚Œã‚‹ã€‚ã€\nä¸‹ç·šéƒ¨ã®åŠ©å‹•è©ã€Œã‚‰ã‚Œã‚‹ã€ã®æ„å‘³ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "å—ã‘èº«", "b": "å¯èƒ½", "c": "å°Šæ•¬", "d": "è‡ªç™º"}, "answer": "b", "explanation": "ã€Œé£Ÿã¹ã‚‹ã“ã¨ãŒã§ãã‚‹ã€ã¨ã„ã†æ„å‘³ãªã®ã§ã€Œå¯èƒ½ã€ã§ã™ã€‚ã€Œï½ã§ãã‚‹ã€ã¨ç½®ãæ›ãˆã‚‰ã‚Œã‚Œã°å¯èƒ½ï¼"},
  {"id": "koku_s05", "type": "choice", "question": "ã€Œå…ˆç”Ÿã‚‚ãã®æ˜ ç”»ã‚’ã”è¦§ã«ãªã‚‰ã‚ŒãŸãã†ã ã€‚ã€\nä¸‹ç·šéƒ¨ã®åŠ©å‹•å‹•è©ã€Œã‚‰ã‚Œã€ã®æ„å‘³ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "å—ã‘èº«", "b": "å¯èƒ½", "c": "å°Šæ•¬", "d": "è‡ªç™º"}, "answer": "c", "explanation": "ã€Œã”è¦§ã«ãªã‚‹ã€ã¨ã„ã†å°Šæ•¬èªã«ã¤ã„ã¦ã„ã‚‹ã€Œã‚‰ã‚Œã‚‹ã€ã¯ã€Œå°Šæ•¬ã€ã®æ„å‘³ã«ãªã‚Šã¾ã™ã€‚å…ˆç”Ÿãªã©ã€ç›®ä¸Šã®äººã®è¡Œå‹•ã«ä½¿ã‚ã‚Œã¾ã™ã€‚"},
  {"id": "koku_s06", "type": "choice", "question": "å„ªç¾ã§ç†çŸ¥çš„ãªæ­ŒãŒå¤šãã€ç´€è²«ä¹‹ã‚‰ãŒæ’°è€…ã§ã‚ã‚‹å¹³å®‰æ™‚ä»£ã®å’Œæ­Œé›†ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "ä¸‡è‘‰é›†", "b": "å¤ä»Šå’Œæ­Œé›†", "c": "æ–°å¤ä»Šå’Œæ­Œé›†"}, "answer": "b", "explanation": "å¹³å®‰æ™‚ä»£ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ã€ŒãŸã‚’ã‚„ã‚ã¶ã‚Šï¼ˆå„ªç¾ãƒ»ç†çŸ¥çš„ï¼‰ã€ã€‚ä»£è¡¨çš„ãªæ’°è€…ãŒç´€è²«ä¹‹ã§ã‚ã‚‹ã€Œå¤ä»Šå’Œæ­Œé›†ã€ãŒæ­£è§£ã§ã™ã€‚"},
  {"id": "koku_a01", "type": "choice", "question": "ã€Œæ˜¥éãã¦ å¤æ¥ãŸã‚‹ã‚‰ã— ç™½ãŸã¸ã® è¡£å¹²ã—ãŸã‚Š å¤©ã®é¦™å…·å±±ã€\nã“ã®æ­Œã®ä½œè€…ã¯èª°ï¼Ÿ", "options": {"a": "æŸ¿æœ¬äººéº»å‘‚", "b": "é¡ç”°ç‹", "c": "æŒçµ±å¤©çš‡"}, "answer": "c", "explanation": "ä¸‡è‘‰é›†ã«åã‚ã‚‰ã‚Œã¦ã„ã‚‹æœ‰åãªæ­Œã§ã€ä½œè€…ã¯æŒçµ±å¤©çš‡ã§ã™ã€‚å­£ç¯€ã®ç§»ã‚Šå¤‰ã‚ã‚Šã‚’è© ã‚“ã§ã„ã¾ã™ã€‚"},
  {"id": "koku_s07", "type": "choice", "question": "è©©ã€æŒ¨æ‹¶ã€ã§ã€ã€Œç„¼ã‘ãŸã ã‚ŒãŸé¡”ã€ã¨å¯¾æ¯”çš„ã«æã‹ã‚Œã¦ã„ã‚‹ã®ã¯ã€ã©ã®ã‚ˆã†ãªé¡”ï¼Ÿ", "options": {"a": "ã™ãŒã™ãŒã—ã„æœã®é¡”", "b": "ã™ã“ã‚„ã‹ãªä»Šæ—¥ã®é¡”", "c": "æˆ¦ç«ã®è·¡ã‚‚ã¨ã©ã‚ã¬"}, "answer": "b", "explanation": "ã“ã®è©©ã¯ã€ŒåŸçˆ†ã«ã‚ˆã‚‹éå»ã®æ‚²åŠ‡ã€ã¨ã€Œç¾åœ¨ã®å¹³å’Œãªæ—¥å¸¸ã€ã‚’å¯¾æ¯”ã—ã¦ã„ã¾ã™ã€‚ã€Œã™ã“ã‚„ã‹ãªä»Šæ—¥ã®é¡”ã€ãŒç¾åœ¨ã®å¹³å’Œã‚’è±¡å¾´ã—ã¦ã„ã¾ã™ã€‚"},
  {"id": "koku_a02", "type": "choice", "question": "ã€ã‚¢ãƒ©ã‚¹ã‚«ã¨ã®å‡ºä¼šã„ã€ã§ã€ç­†è€…ãŒã‚¢ãƒ©ã‚¹ã‚«ã¸è¡Œãç›´æ¥ã®ãã£ã‹ã‘ã¨ãªã£ãŸã‚‚ã®ã¯ä½•ï¼Ÿ", "options": {"a": "å‹äººã‹ã‚‰ã®æ‰‹ç´™", "b": "ãƒ†ãƒ¬ãƒ“ç•ªçµ„", "c": "ä¸€å†Šã®å†™çœŸé›†"}, "answer": "c", "explanation": "ç­†è€…ã¯ç¥ç”°ã®å¤æœ¬å±‹ã§å¶ç„¶è¦‹ã¤ã‘ãŸä¸€å†Šã®å†™çœŸé›†ã®ä¸­ã«ã‚ã‚‹ã€ã‚·ã‚·ãƒ¥ãƒãƒ¬ãƒ•æ‘ã®å†™çœŸã«å¼·ãå¿ƒã‚’æƒ¹ã‹ã‚Œã€ã‚¢ãƒ©ã‚¹ã‚«ã¸è¡Œãã“ã¨ã‚’æ±ºæ„ã—ã¾ã—ãŸã€‚"},
  {"id": "koku_a03", "type": "choice", "question": "ã€å¥„ç¾ãƒ»æ²–ç¸„ã€ã§è¿°ã¹ã‚‰ã‚Œã¦ã„ã‚‹ã€ä¸–ç•Œè‡ªç„¶éºç”£ãŒæŠ±ãˆã‚‹å¯¾ç«‹ã—ãŸäºŒã¤ã®ãƒ†ãƒ¼ãƒã¨ã¯ä½•ï¼Ÿ", "options": {"a": "ä¼çµ±æ–‡åŒ– ã¨ å¤–æ¥æ–‡åŒ–", "b": "çµŒæ¸ˆåŠ¹æœ ã¨ è‡ªç„¶ä¿è­·", "c": "å³¶ã®ç”Ÿæ´» ã¨ éƒ½å¸‚ã®ç”Ÿæ´»"}, "answer": "b", "explanation": "ã“ã®è¨˜äº‹ã§ã¯ã€è¦³å…‰å®¢ãŒå¢—ãˆã‚‹ã“ã¨ã«ã‚ˆã‚‹ã€ŒçµŒæ¸ˆåŠ¹æœã€ã¨ã€ãã‚Œã«ã‚ˆã£ã¦è²´é‡ãªè‡ªç„¶ãŒç ´å£Šã•ã‚Œã‚‹å±é™ºæ€§ã¨ã„ã†ã€Œè‡ªç„¶ä¿è­·ã€ã®å•é¡Œã‚’ã©ã†ä¸¡ç«‹ã•ã›ã‚‹ã‹ãŒãƒ†ãƒ¼ãƒã§ã™ã€‚"},
  {"id": "koku_s08", "type": "choice", "question": "åŠ©å‹•è©ã€Œã†ãƒ»ã‚ˆã†ã€ã«ã¯æ¨é‡ãƒ»æ„å¿—ãƒ»å‹§èª˜ã®æ„å‘³ãŒã‚ã‚Šã¾ã™ã€‚\nã€Œã•ã‚ã€ã¿ã‚“ãªã§è€ƒãˆã‚ˆã†ã€‚ã€ã®ã€Œã‚ˆã†ã€ã®æ„å‘³ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "æ¨é‡ï¼ˆï½ã ã‚ã†ï¼‰", "b": "æ„å¿—ï¼ˆï½ã™ã‚‹ã¤ã‚‚ã‚Šã ï¼‰", "c": "å‹§èª˜ï¼ˆï½ã—ã¾ã›ã‚“ã‹ï¼‰"}, "answer": "c", "explanation": "ã€Œã¿ã‚“ãªã§ï½ã—ã‚ˆã†ã€ã¨ç›¸æ‰‹ã‚’èª˜ã£ã¦ã„ã‚‹ã®ã§ã€Œå‹§èª˜ã€ã§ã™ã€‚ã€Œç§ãŒã‚„ã‚ã†ã€ãªã‚‰æ„å¿—ã€ã€Œæ˜æ—¥ã¯æ™´ã‚Œã‚‹ã ã‚ã†ã€ãªã‚‰æ¨é‡ã«ãªã‚Šã¾ã™ã€‚"},
  {"id": "koku_s09", "type": "choice", "question": "å¥ˆè‰¯æ™‚ä»£ã«æˆç«‹ã—ã€ã€Œã¾ã™ã‚‰ã‚’ã¶ã‚Šã€ã¨è©•ã•ã‚Œã‚‹åŠ›å¼·ã„æ­Œé¢¨ãŒç‰¹å¾´ã®å’Œæ­Œé›†ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "ä¸‡è‘‰é›†", "b": "å¤ä»Šå’Œæ­Œé›†", "c": "æ–°å¤ä»Šå’Œæ­Œé›†"}, "answer": "a", "explanation": "ã€Œã¾ã™ã‚‰ã‚’ã¶ã‚Šï¼ˆç”·æ€§çš„ã§åŠ›å¼·ã„ï¼‰ã€ã¯ã€ä¸‡è‘‰é›†ã€ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ã™ã€‚å¤©çš‡ã‹ã‚‰è¾²æ°‘ã¾ã§ã€æ§˜ã€…ãªèº«åˆ†ã®äººã®æ­ŒãŒåã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"},
  {"id": "koku_a04", "type": "choice", "question": "è©©ã€æŒ¨æ‹¶ã€ã§ã€ç­†è€…ãŒã€Œã‚Šã¤ãœã‚“ã¨ã™ã‚‹ã€ã®ã¯ãªãœï¼Ÿ æœ€ã‚‚é©åˆ‡ãªã‚‚ã®ã‚’é¸ã³ãªã•ã„ã€‚", "options": {"a": "ç›®ã®å‰ã®äººã®ç¾ã—ã•ã«æ„Ÿå‹•ã—ãŸã‹ã‚‰ã€‚", "b": "æ‚²æƒ¨ãªåŸçˆ†å†™çœŸã®ã“ã¨ã‚’æ€ã„å‡ºã—ã¦æ‚²ã—ããªã£ãŸã‹ã‚‰ã€‚", "c": "å¹³å’Œãªæ—¥å¸¸ã®ä¸­ã«ã€æ ¸æˆ¦äº‰ã§ãã‚ŒãŒå¤±ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œãªã„å±é™ºã‚’æ„Ÿã˜ãŸã‹ã‚‰ã€‚"}, "answer": "c", "explanation": "ã€Œã‚Šã¤ãœã‚“ã¨ã™ã‚‹ã€ã¯ã€Œæã‚ã—ã•ã§èº«éœ‡ã„ã™ã‚‹ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚å¹³å’Œãªé¡”ã®ã€Œæ˜æ—¥ã€ã‚’æƒ³åƒã—ãŸæ™‚ã«ã€ãã®å¹³å’ŒãŒæ ¸ã«ã‚ˆã£ã¦è„…ã‹ã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†æã‚ã—ã„ç¾å®Ÿã«æ°—ã¥ã„ãŸã®ã§ã™ã€‚"},
  {"id": "koku_a05", "type": "choice", "question": "ã€ã‚¢ãƒ©ã‚¹ã‚«ã¨ã®å‡ºä¼šã„ã€ã§ã€ç­†è€…ã¯äººç”Ÿã‚’ã©ã®ã‚ˆã†ãªã‚‚ã®ã ã¨è€ƒãˆã¦ã„ã‚‹ï¼Ÿ", "options": {"a": "è‡ªåˆ†ã®å¼·ã„æ„å¿—ã§åˆ‡ã‚Šé–‹ã„ã¦ã„ãã‚‚ã®", "b": "ãŸãã•ã‚“ã®å¶ç„¶ã®å‡ºä¼šã„ãŒé‡ãªã£ã¦ã§ãã‚ãŒã£ã¦ã„ãã‚‚ã®", "c": "ã‚ã‚‰ã‹ã˜ã‚é‹å‘½ã«ã‚ˆã£ã¦å…¨ã¦ãŒæ±ºã‚ã‚‰ã‚Œã¦ã„ã‚‹ã‚‚ã®"}, "answer": "b", "explanation": "ç­†è€…ã¯ã€Œã‹ãã‚Šãªãç„¡æ•°ã®å¶ç„¶ãŒç¶šã„ã¦ã‚†ãã ã‘ã€ã¨è¿°ã¹ã¦ã„ã¾ã™ã€‚å¤æœ¬å±‹ã§ã®ä¸€å†Šã®å†™çœŸé›†ã¨ã®å‡ºä¼šã„ã®ã‚ˆã†ã«ã€å¶ç„¶ãŒäººç”Ÿã‚’å¤§ããå‹•ã‹ã™ã¨è€ƒãˆã¦ã„ã‚‹ã®ã§ã™ã€‚"},
  {"id": "koku_b01", "type": "choice", "question": "åŠ©å‹•è©ã€ŒãŸã€ã«ã¯éå»ãƒ»å®Œäº†ãƒ»å­˜ç¶šãªã©ã®æ„å‘³ãŒã‚ã‚Šã¾ã™ã€‚\nã€Œå£ã«ã‹ã‹ã£ã¦ã„ãŸçµµã€ã®ã€Œã„ãŸã€ã®æ„å‘³ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "éå»", "b": "å®Œäº†", "c": "å­˜ç¶š"}, "answer": "c", "explanation": "ã€Œï½ã¦ã„ãŸã€ã€Œï½ã¦ã‚ã‚‹ã€ã®å½¢ã§ã€ã€Œï½ã¨ã„ã†çŠ¶æ…‹ãŒç¶šã„ã¦ã„ã‚‹ã€ã“ã¨ã‚’è¡¨ã™å ´åˆã€ã€Œå­˜ç¶šã€ã®æ„å‘³ã«ãªã‚Šã¾ã™ã€‚å‹•ä½œãŒçµ‚ã‚ã£ãŸã“ã¨ã‚’ç¤ºã™ã€Œå®Œäº†ã€ã¨ã®åŒºåˆ¥ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚"},
  {"id": "koku_s10", "type": "choice", "question": "ã€å¤ä»Šå’Œæ­Œé›† ä»®ååºã€ã§ã€å’Œæ­Œã®åŠ›ã®å¤§ãã•ã‚’èª¬æ˜ã™ã‚‹ãŸã‚ã«æŒ™ã’ã‚‰ã‚Œã¦ã„ãªã„ã‚‚ã®ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "å¤©åœ°ã‚’å‹•ã‹ã™", "b": "é¬¼ç¥ã‚’ã‚ã¯ã‚Œã¨æ€ã‚ã›ã‚‹", "c": "æ­»è€…ã‚’ã‚ˆã¿ãŒãˆã‚‰ã›ã‚‹"}, "answer": "c", "explanation": "ã€ä»®ååºã€ã§ã¯ã€å’Œæ­Œã®åŠ›ã‚’ã€ŒåŠ›ã‚’ã‚‚å…¥ã‚Œãšã—ã¦å¤©åœ°ã‚’å‹•ã‹ã—ã€ç›®ã«è¦‹ãˆã¬é¬¼ç¥ã‚’ã‚‚ã‚ã¯ã‚Œã¨æ€ã‚ã›â€¦ã€ã¨è¡¨ç¾ã—ã¦ã„ã¾ã™ãŒã€ã€Œæ­»è€…ã‚’ã‚ˆã¿ãŒãˆã‚‰ã›ã‚‹ã€ã¨ã¾ã§ã¯è¨€ã£ã¦ã„ã¾ã›ã‚“ã€‚"},
  {"id": "koku_a06", "type": "choice", "question": "ã€å¥„ç¾ãƒ»æ²–ç¸„ã€ã§å•é¡Œã«ãªã£ã¦ã„ã‚‹ã€Œã‚ªãƒ¼ãƒãƒ¼ãƒ„ãƒ¼ãƒªã‚ºãƒ ã€ã¨ã¯ã€ã©ã®ã‚ˆã†ãªæ„å‘³ï¼Ÿ", "options": {"a": "è¦³å…‰å®¢ãŒæ¸›ã‚Šã™ãã¦ã€çµŒæ¸ˆãŒæˆã‚Šç«‹ãŸãªããªã‚‹ã“ã¨", "b": "è¦³å…‰å®¢ãŒå¢—ãˆã™ãã¦ã€è‡ªç„¶ç’°å¢ƒã‚„ä½æ°‘ã®ç”Ÿæ´»ã«æ‚ªå½±éŸ¿ãŒå‡ºã‚‹ã“ã¨", "c": "æµ·å¤–ã‹ã‚‰ã®è¦³å…‰å®¢ã®ãƒãƒŠãƒ¼ãŒæ‚ªã„ã“ã¨"}, "answer": "b", "explanation": "ã€Œã‚ªãƒ¼ãƒãƒ¼ãƒ„ãƒ¼ãƒªã‚ºãƒ ã€ã¯ã€Œè¦³å…‰å…¬å®³ã€ã¨ã‚‚è¨³ã•ã‚Œã¾ã™ã€‚è¦³å…‰å®¢ãŒã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ã‚’è¶…ãˆã¦æŠ¼ã—å¯„ã›ã‚‹ã“ã¨ã§èµ·ã“ã‚‹æ§˜ã€…ãªå•é¡Œã®ã“ã¨ã§ã™ã€‚"},
  {"id": "koku_s11", "type": "choice", "question": "è©©ã€æŒ¨æ‹¶ã€ã®æœ€çµ‚é€£ã§ã™ã€‚\nè¨€è‘‰ã‚’æ­£ã—ãä¸¦ã¹æ›¿ãˆã‚‹ã¨ã€ã©ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã‹ï¼Ÿ", "options": {"a": "ã‚„ã™ã‚‰ã‹ã« ç¾ã—ã æ²¹æ–­ã—ã¦ã„ãŸ", "b": "ã‚„ã™ã‚‰ã‹ã« æ²¹æ–­ã—ã¦ã„ãŸ ç¾ã—ã", "c": "ç¾ã—ã ã‚„ã™ã‚‰ã‹ã« æ²¹æ–­ã—ã¦ã„ãŸ"}, "answer": "a", "explanation": "æœ€çµ‚é€£ã€Œã‚„ã™ã‚‰ã‹ã« ç¾ã—ã æ²¹æ–­ã—ã¦ã„ãŸã€ã¯ã€åŸçˆ†ã§äº¡ããªã£ãŸäººã€…ã¨ã€ä»Šã‚’ç”Ÿãã‚‹ç§ãŸã¡ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¾¼ã‚ã‚‰ã‚ŒãŸã€ã“ã®è©©ã®é‡è¦ãªç· ã‚ããã‚Šã§ã™ã€‚"},
  {"id": "koku_b02", "type": "choice", "question": "éŒå€‰æ™‚ä»£ã«æˆç«‹ã—ã€ã€Œå¹½ç„ã€ã‚„ã€Œæœ‰å¿ƒã€ã¨ã„ã£ãŸã€ä½™éŸ»ã‚’é‡è¦–ã™ã‚‹æ­Œé¢¨ãŒç‰¹å¾´ã®å’Œæ­Œé›†ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "ä¸‡è‘‰é›†", "b": "å¤ä»Šå’Œæ­Œé›†", "c": "æ–°å¤ä»Šå’Œæ­Œé›†"}, "answer": "c", "explanation": "ã€Œå¹½ç„ï¼ˆå¥¥æ·±ãã€ã‹ã™ã‹ãªè¶£ï¼‰ã€ã‚„ã€Œæœ‰å¿ƒï¼ˆå†…å®¹ãŒæ·±ãã€å„ªé›…ãªç¾ã—ã•ï¼‰ã€ã¯ã€ã€æ–°å¤ä»Šå’Œæ­Œé›†ã€ã®é‡è¦ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ã™ã€‚è—¤åŸå®šå®¶ã‚‰ãŒæ’°è€…ã§ã™ã€‚"},
  {"id": "koku_a07", "type": "choice", "question": "ã€Œãƒ¦ã‚¦ã‚·ãƒ¥ã‚¦ãªæˆç¸¾ã‚’ãŠã•ã‚ã‚‹ã€‚ã€\nã“ã®ã‚«ã‚¿ã‚«ãƒŠã‚’æ¼¢å­—ã§æ­£ã—ãæ›¸ã„ãŸã‚‚ã®ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "æœ‰çµ‚", "b": "å„ªç§€", "c": "æ†‚æ„"}, "answer": "b", "explanation": "æˆç¸¾ãŒã€Œã™ãã‚Œã¦ã„ã‚‹ã€ã¨ã„ã†æ„å‘³ãªã®ã§ã€Œå„ªç§€ã€ã§ã™ã€‚ã€Œæœ‰çµ‚ã€ã¯ã€Œæœ‰çµ‚ã®ç¾ã‚’é£¾ã‚‹ã€ã®ã‚ˆã†ã«æœ€å¾Œã¾ã§ã‚„ã‚Šé‚ã’ã‚‹ã“ã¨ã€ã€Œæ†‚æ„ã€ã¯ã€Œã†ã‚Œã„ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚"},
  {"id": "koku_s12", "type": "choice", "question": "åŠ©å‹•è©ã€Œãªã„ã€ã¯ã€å‹•è©ã®ã©ã®æ´»ç”¨å½¢ã«æ¥ç¶šã—ã¾ã™ã‹ï¼Ÿ", "options": {"a": "æœªç„¶å½¢", "b": "é€£ç”¨å½¢", "c": "çµ‚æ­¢å½¢"}, "answer": "a", "explanation": "ã€Œæ›¸ã‹ï¼ˆæœªç„¶å½¢ï¼‰ãªã„ã€ã€Œèµ·ãï¼ˆæœªç„¶å½¢ï¼‰ãªã„ã€ã®ã‚ˆã†ã«ã€æ‰“ã¡æ¶ˆã—ã®åŠ©å‹•è©ã€Œãªã„ã€ã¯æœªç„¶å½¢ã«æ¥ç¶šã—ã¾ã™ã€‚ã“ã‚Œã¯æ–‡æ³•ã®åŸºæœ¬ãƒ«ãƒ¼ãƒ«ã§ã™ã€‚"},
  {"id": "koku_a08", "type": "choice", "question": "ã€å¤ä»Šå’Œæ­Œé›† ä»®ååºã€ã®å†’é ­ã®ä¸€ç¯€ã§ã™ã€‚\nè¨€è‘‰ã‚’æ­£ã—ãä¸¦ã¹æ›¿ãˆã‚‹ã¨ã€ã©ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã‹ï¼Ÿ", "options": {"a": "ã‚„ã¾ã¨ã†ãŸã¯ äººã®å¿ƒã‚’ ç¨®ã¨ã—ã¦", "b": "äººã®å¿ƒã‚’ ã‚„ã¾ã¨ã†ãŸã¯ ç¨®ã¨ã—ã¦", "c": "ã‚„ã¾ã¨ã†ãŸã¯ ç¨®ã¨ã—ã¦ äººã®å¿ƒã‚’"}, "answer": "a", "explanation": "ã€Œã‚„ã¾ã¨ã†ãŸã¯ã€äººã®å¿ƒã‚’ç¨®ã¨ã—ã¦ã€ã‚ˆã‚ã¥ã®è¨€ã®è‘‰ã¨ããªã‚Œã‚Šã‘ã‚‹ã€‚ã€ã¨ã„ã†æœ‰åãªä¸€ç¯€ã§ã™ã€‚å’Œæ­ŒãŒäººã®å¿ƒã‹ã‚‰ç”Ÿã¾ã‚Œã‚‹ã“ã¨ã‚’ã€æ¤ç‰©ãŒç¨®ã‹ã‚‰èŠ½å¹ãã“ã¨ã«ä¾‹ãˆã¦ã„ã¾ã™ã€‚"},
  {"id": "koku_s13", "type": "choice", "question": "ã€Œã‚½ãƒã‚’è¬›ã˜ã‚‹ã€‚ã€\nã“ã®ã‚«ã‚¿ã‚«ãƒŠã‚’æ¼¢å­—ã§æ­£ã—ãæ›¸ã„ãŸã‚‚ã®ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "å‡¦ç½®", "b": "æªç½®", "c": "ç´ åœ°"}, "answer": "b", "explanation": "ã€Œæªç½®ã€ã¯ã€ã‚ã‚‹äº‹æ…‹ã«å¯¾å¿œã™ã‚‹ãŸã‚ã®å‡¦ç½®ã‚’ã¨ã‚‹ã“ã¨ã§ã™ã€‚ã€Œå‡¦ç½®ã€ã¯æ‰‹å½“ã¦ã‚„å‡¦ç†ã‚’ã™ã‚‹ã“ã¨ã€‚æ–‡è„ˆã«ã‚ˆã£ã¦ä½¿ã„åˆ†ã‘ãŒå¿…è¦ã§ã™ã€‚"},
  {"id": "koku_b03", "type": "choice", "question": "ã€Œç§ã¯ã€ã€Œãã®æœ¬ã‚’ã€ã€Œã§ã™ã€ã€Œèª­ã¿ãŸã„ã€ã¨ã„ã†è¨€è‘‰ã‚’ä½¿ã„ã€ã€Œç§ã¯ãã®æœ¬ã‚’èª­ã¿ãŸã„ã€ã¨ã„ã†æ–‡ã‚’ä½œã‚‹ã¨ãã€ä¸è¦ãªè¨€è‘‰ã¯ã©ã‚Œï¼Ÿ", "options": {"a": "ç§ã¯", "b": "ã§ã™", "c": "èª­ã¿ãŸã„"}, "answer": "b", "explanation": "å¸Œæœ›ã‚’è¡¨ã™åŠ©å‹•è©ã€ŒãŸã„ã€ã¯ã€ãã‚Œè‡ªä½“ã§æ–‡ã‚’çµ‚ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã€Œï½ã§ã™ã€ã‚’ä»˜ã‘ã‚‹ã¨ä¸å¯§ã«ãªã‚Šã¾ã™ãŒã€æ–‡ã‚’å®Œæˆã•ã›ã‚‹ãŸã‚ã«å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚"},
  {"id": "koku_a09", "type": "choice", "question": "è©©ã€æŒ¨æ‹¶ã€ã®æœ€çµ‚é€£ã€Œæ²¹æ–­ã—ã¦ã„ãŸã€ã¨ã„ã†è¨€è‘‰ã¯ã€èª°ã«å‘ã‘ã‚‰ã‚ŒãŸã‚‚ã®ã§ã™ã‹ï¼Ÿ", "options": {"a": "åŸçˆ†ã‚’æŠ•ä¸‹ã—ãŸã‚¢ãƒ¡ãƒªã‚«", "b": "å½“æ™‚ã®æ—¥æœ¬ã®æŒ‡å°è€…", "c": "åŸçˆ†ã§äº¡ããªã£ãŸäººã€…ã¨ã€ç¾ä»£ã‚’ç”Ÿãã‚‹ç§ãŸã¡"}, "answer": "c", "explanation": "ã€Œã‚ã®æ™‚ã€äººã€…ã¯æ²¹æ–­ã—ã¦ã„ãŸã€‚ãã—ã¦ã€å¹³å’Œãªä»Šã‚’ç”Ÿãã‚‹ã‚ãªãŸï¼ˆç§ãŸã¡ï¼‰ã‚‚æ²¹æ–­ã—ã¦ã„ã‚‹ã®ã§ã¯ãªã„ã‹ï¼Ÿã€ã¨ã„ã†ã€éå»ã¨ç¾åœ¨ã‚’ã¤ãªãé‹­ã„å•ã„ã‹ã‘ã§ã™ã€‚"}

    ];

    // --- ç¤¾ä¼šã®å•é¡Œãƒ‡ãƒ¼ã‚¿ ---
    const Q_SHAKAI = [
      { id: "sha_01", type: "choice", question: "è‡ªç”±æ°‘æ¨©é‹å‹•ã®ä¸­å¿ƒäººç‰©ã¯ï¼Ÿ", options: { a: "æ¿å£é€€åŠ©", b: "ä¼Šè—¤åšæ–‡" }, answer: "a", explanation: "åœŸä½è—©å‡ºèº«ã®äººç‰©ã§ã™ã€‚" }
    ];

    // --- ç†ç§‘ã®å•é¡Œãƒ‡ãƒ¼ã‚¿ ---
    const Q_RIKA = [
      { id: "rika_01", type: "choice", question: "æ¸›æ•°åˆ†è£‚ã§ã€æŸ“è‰²ä½“ã®æ•°ã¯ã©ã†ãªã‚‹ï¼Ÿ", options: { a: "2å€ã«ãªã‚‹", b: "åŠåˆ†ã«ãªã‚‹", c: "å¤‰ã‚ã‚‰ãªã„" }, answer: "b", explanation: "ç”Ÿæ®–ç´°èƒãŒã§ãã‚‹ã¨ãã®åˆ†è£‚ã§ã™ã€‚" }
    ];

    // --- å‰¯æ•™ç§‘ã®å•é¡Œãƒ‡ãƒ¼ã‚¿ï¼ˆå¾Œã§è¿½åŠ å¯ã€‚ç©ºã§ã‚‚å‹•ä½œã•ã›ã‚‹ãŸã‚ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ï¼‰ ---
    const Q_KATEIKA = [];
    const Q_BIJUTSU  = [];
    const Q_TAIIKU   = [
      {"id": "hoken_s01", "type": "choice", "question": "ç´°èŒã‚„ã‚¦ã‚¤ãƒ«ã‚¹ãªã©ã®ã€ç—…åŸä½“ã€‘ãŒä½“ã®ä¸­ã«ä¾µå…¥ã—ã¦ã€å®šç€ãƒ»å¢—æ®–ã™ã‚‹ã“ã¨ã‚’ä½•ã¨ã„ã„ã¾ã™ã‹ï¼Ÿ", "options": {"a": "æ„ŸæŸ“ç—‡", "b": "æ„ŸæŸ“", "c": "ç™ºç—…"}, "answer": "b", "explanation": "ç—…åŸä½“ãŒä½“ã«å…¥ã‚‹ã“ã¨ã‚’ã€Œæ„ŸæŸ“ã€ã¨ã„ã„ã¾ã™ã€‚ã€Œæ„ŸæŸ“ç—‡ã€ã¯ã€æ„ŸæŸ“ã«ã‚ˆã£ã¦ç—…æ°—ãŒèµ·ã“ã‚‹ã“ã¨ã‚’æŒ‡ã—ã¾ã™ã€‚"},
      {"id": "hoken_s02", "type": "choice", "question": "æ„ŸæŸ“ç—‡ãŒæˆç«‹ã™ã‚‹ãŸã‚ã®3ã¤ã®æ¡ä»¶ã‚’æ­£ã—ã„é †åºã§ä¸¦ã¹ãŸã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", "options": {"a": "æ„ŸæŸ“çµŒè·¯ â†’ æ„ŸæŸ“æº â†’ ä½“ã®æŠµæŠ—åŠ›", "b": "æ„ŸæŸ“æº â†’ æ„ŸæŸ“çµŒè·¯ â†’ ä½“ã®æŠµæŠ—åŠ›", "c": "ä½“ã®æŠµæŠ—åŠ› â†’ æ„ŸæŸ“æº â†’ æ„ŸæŸ“çµŒè·¯"}, "answer": "b", "explanation": "æ„ŸæŸ“ç—‡ã¯ã€â‘ ç—…åŸä½“ã‚’æŒã¤ã€Œæ„ŸæŸ“æºã€ãŒã‚ã‚Šã€â‘¡ãã‚ŒãŒã†ã¤ã‚‹ãŸã‚ã®ã€Œæ„ŸæŸ“çµŒè·¯ã€ã‚’é€šã£ã¦ã€â‘¢ã€Œä½“ã®æŠµæŠ—åŠ›ã€ãŒå¼±ã£ãŸäººã«æ„ŸæŸ“ã™ã‚‹ã“ã¨ã§æˆç«‹ã—ã¾ã™ã€‚"},
      {"id": "hoken_s03", "type": "choice", "question": "æ–°å‹ã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹æ„ŸæŸ“ç—‡ã®ã‚ˆã†ã«ã€æ–°ã—ãç™ºè¦‹ã•ã‚ŒãŸæ„ŸæŸ“ç—‡ã‚’ç‰¹ã«ä½•ã¨ã„ã„ã¾ã™ã‹ï¼Ÿ", "options": {"a": "å†èˆˆæ„ŸæŸ“ç—‡", "b": "æ–°èˆˆæ„ŸæŸ“ç—‡", "c": "æµè¡Œæ„ŸæŸ“ç—‡"}, "answer": "b", "explanation": "æ–°ã—ãç™ºè¦‹ã•ã‚ŒãŸæ„ŸæŸ“ç—‡ã‚’ã€Œæ–°èˆˆæ„ŸæŸ“ç—‡ã€ã¨ã„ã„ã¾ã™ã€‚ã¡ãªã¿ã«ã€çµæ ¸ã®ã‚ˆã†ã«ä¸€åº¦ã¯åˆ¶åœ§ã•ã‚ŒãŸã‹ã«è¦‹ãˆã¦å†ã³æµè¡Œã™ã‚‹ã‚‚ã®ã‚’ã€Œå†èˆˆæ„ŸæŸ“ç—‡ã€ã¨ã„ã„ã¾ã™ã€‚"},
      {"id": "hoken_s04", "type": "choice", "question": "æ€§æ„ŸæŸ“ç—‡ã®ä¸€ã¤ã§ã‚ã‚‹ã€æ€§å™¨ã‚¯ãƒ©ãƒŸã‚¸ã‚¢æ„ŸæŸ“ç—‡ã€‘ã®å¤§ããªç‰¹å¾´ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", "options": {"a": "ç”·æ€§ã¯ç—‡çŠ¶ãŒå‡ºãªã„ã“ã¨ãŒå¤šã„", "b": "ä¸€åº¦ã‹ã‹ã‚‹ã¨å†ç™ºã™ã‚‹ã“ã¨ã¯ãªã„", "c": "å¥³æ€§ã¯ç—‡çŠ¶ãŒå‡ºãªã„ã“ã¨ãŒå¤šã„"}, "answer": "c", "explanation": "æ€§å™¨ã‚¯ãƒ©ãƒŸã‚¸ã‚¢æ„ŸæŸ“ç—‡ã¯ã€ç‰¹ã«å¥³æ€§ã§ç—‡çŠ¶ãŒå‡ºã«ããã€æ°—ã¥ã‹ãªã„ã†ã¡ã«é€²è¡Œã—ã¦ä¸å¦Šã®åŸå› ã«ãªã‚‹ã“ã¨ãŒã‚ã‚‹ãŸã‚æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚"},
      {"id": "hoken_s05", "type": "choice", "question": "æ€§æ„ŸæŸ“ç—‡ã‚’æ²»ç™‚ã—ãªã„ã§æ”¾ç½®ã—ãŸå ´åˆã«èµ·ã“ã‚Šã†ã‚‹ã€æœ€ã‚‚æ·±åˆ»ãªå•é¡Œã®ä¸€ã¤ã¯ä½•ã§ã™ã‹ï¼Ÿ", "options": {"a": "ä¸çœ ã®åŸå› ã«ãªã‚‹", "b": "ä¸å¦Šã®åŸå› ã«ãªã‚‹", "c": "è¦–åŠ›ãŒä½ä¸‹ã™ã‚‹"}, "answer": "b", "explanation": "æ€§æ„ŸæŸ“ç—‡ã‚’æ”¾ç½®ã™ã‚‹ã¨ã€ç”·å¥³ã¨ã‚‚ã«ä¸å¦Šã®åŸå› ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€æ¯è¦ªã‹ã‚‰èƒå…ã«æ„ŸæŸ“ã™ã‚‹ã€Œæ¯å­æ„ŸæŸ“ã€ã®ãƒªã‚¹ã‚¯ã‚‚ã‚ã‚Šã¾ã™ã€‚"},
      {"id": "hoken_s06", "type": "choice", "question": "ã‚¨ã‚¤ã‚ºã®åŸå› ã¨ãªã‚‹ã‚¦ã‚¤ãƒ«ã‚¹ã®æ­£å¼åç§°ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", "options": {"a": "ãƒ’ãƒˆä¸å…¨å…ç–«ã‚¦ã‚¤ãƒ«ã‚¹", "b": "å…ç–«ä¸å…¨ãƒ’ãƒˆã‚¦ã‚¤ãƒ«ã‚¹", "c": "ãƒ’ãƒˆå…ç–«ä¸å…¨ã‚¦ã‚¤ãƒ«ã‚¹"}, "answer": "c", "explanation": "ã‚¨ã‚¤ã‚ºã®åŸå› ã¨ãªã‚‹ã‚¦ã‚¤ãƒ«ã‚¹ã¯ã€Œãƒ’ãƒˆå…ç–«ä¸å…¨ã‚¦ã‚¤ãƒ«ã‚¹ã€ã§ã€ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆ3æ–‡å­—ã§ã€ŒHIVã€ã¨ç•¥ã•ã‚Œã¾ã™ã€‚"},
      {"id": "hoken_s07", "type": "choice", "question": "HIVã®æ„ŸæŸ“ã‚’äºˆé˜²ã™ã‚‹ãŸã‚ã«ã€æ€§çš„æ¥è§¦ã«ãŠã„ã¦æœ‰åŠ¹ãªæ–¹æ³•ã¯ä½•ã§ã™ã‹ï¼Ÿ", "options": {"a": "ä½ç”¨é‡ãƒ”ãƒ«ã‚’æœç”¨ã™ã‚‹", "b": "ã‚³ãƒ³ãƒ‰ãƒ¼ãƒ ã‚’æ­£ã—ãä½¿ç”¨ã™ã‚‹", "c": "æ€§äº¤å¾Œã«ã‚·ãƒ£ãƒ¯ãƒ¼ã‚’æµ´ã³ã‚‹"}, "answer": "b", "explanation": "HIVã®æ„ŸæŸ“äºˆé˜²ã«ã¯ã€ã‚³ãƒ³ãƒ‰ãƒ¼ãƒ ã‚’æ­£ã—ãä½¿ç”¨ã™ã‚‹ã“ã¨ãŒæœ‰åŠ¹ã§ã™ã€‚æ€§çš„æ¥è§¦ã‚’ã—ãªã„ã“ã¨ãŒæœ€ã‚‚ç¢ºå®Ÿãªäºˆé˜²æ³•ã§ã™ã€‚"},
      {"id": "hoken_s08", "type": "choice", "question": "äººã€…ãŒè‡ªã‚‰ã®å¥åº·ã‚’ã‚ˆã‚Šè‰¯ãã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã€æ”¹å–„ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ãç¤¾ä¼šå…¨ä½“ã®å–ã‚Šçµ„ã¿ã‚’ä½•ã¨ã„ã„ã¾ã™ã‹ï¼Ÿ", "options": {"a": "ã‚»ãƒ«ãƒ•ãƒ¡ãƒ‡ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³", "b": "ãƒ˜ãƒ«ã‚¹ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³", "c": "ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³"}, "answer": "b", "explanation": "å€‹äººã®åŠªåŠ›ã ã‘ã§ãªãã€ç¤¾ä¼šå…¨ä½“ã§å¥åº·ã‚’æ”¯æ´ã™ã‚‹è€ƒãˆæ–¹ã‚„å–ã‚Šçµ„ã¿ã‚’ã€Œãƒ˜ãƒ«ã‚¹ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã€ã¨ã„ã„ã¾ã™ã€‚"},
      {"id": "hoken_s09", "type": "choice", "question": "ã€ä¿å¥æ‰€ã€‘ã¨ã€ä¿å¥ã‚»ãƒ³ã‚¿ãƒ¼ã€‘ã®é•ã„ã«ã¤ã„ã¦ã€æ­£ã—ã„èª¬æ˜ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", "options": {"a": "ä¿å¥æ‰€ã¯å¸‚ç”ºæ‘ãŒé‹å–¶ã—ã€èº«è¿‘ãªå¥åº·ç›¸è«‡ãªã©ã‚’è¡Œã†ã€‚", "b": "ä¿å¥æ‰€ã¯éƒ½é“åºœçœŒãªã©ãŒé‹å–¶ã—ã€å°‚é–€çš„ãƒ»åºƒåŸŸçš„ãªå¯¾ç­–ã‚’è¡Œã†ã€‚", "c": "ä¿å¥ã‚»ãƒ³ã‚¿ãƒ¼ã¯éƒ½é“åºœçœŒãŒé‹å–¶ã—ã€é£Ÿä¸­æ¯’å¯¾ç­–ãªã©ã‚’è¡Œã†ã€‚"}, "answer": "b", "explanation": "ä¿å¥æ‰€ã¯éƒ½é“åºœçœŒãªã©ãŒé‹å–¶ã™ã‚‹å°‚é–€çš„ãªæ©Ÿé–¢ã€ä¿å¥ã‚»ãƒ³ã‚¿ãƒ¼ã¯å¸‚ç”ºæ‘ãŒé‹å–¶ã™ã‚‹ä½æ°‘ã«èº«è¿‘ãªæ©Ÿé–¢ã§ã™ã€‚"},
      {"id": "hoken_s10", "type": "choice", "question": "æ—¥å¸¸çš„ãªç—…æ°—ã®è¨ºç™‚ã‚„å¥åº·ç®¡ç†ã«ã¤ã„ã¦ç›¸è«‡ã§ãã‚‹èº«è¿‘ãªåŒ»å¸«ã®ã“ã¨ã‚’ç‰¹ã«ä½•ã¨ã„ã„ã¾ã™ã‹ï¼Ÿ", "options": {"a": "å°‚é–€åŒ»", "b": "ã‹ã‹ã‚Šã¤ã‘åŒ»", "c": "æ‹…å½“åŒ»"}, "answer": "b", "explanation": "æ™®æ®µã‹ã‚‰è‡ªåˆ†ã®ä½“è³ªã‚„ç—…æ­´ã‚’ç†è§£ã—ã¦ãã‚Œã¦ã„ã‚‹èº«è¿‘ãªåŒ»å¸«ã‚’ã€Œã‹ã‹ã‚Šã¤ã‘åŒ»ã€ã¨ã„ã„ã€å¥åº·ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã«é‡è¦ãªå­˜åœ¨ã§ã™ã€‚"},
      {"id": "hoken_a01", "type": "choice", "question": "åŒ»è–¬å“ã‚’ä½¿ã£ãŸã¨ãã«ç¾ã‚Œã‚‹ã€ç—…æ°—ã‚’æ²»ã™ã¨ã„ã£ãŸæœ¬æ¥ã®ç›®çš„ã¨ãªã‚‹ä½œç”¨ã‚’ä½•ã¨ã„ã„ã¾ã™ã‹ï¼Ÿ", "options": {"a": "å‰¯ä½œç”¨", "b": "ä¸»ä½œç”¨", "c": "åŠ¹æœ"}, "answer": "b", "explanation": "è–¬ã«æœŸå¾…ã•ã‚Œã‚‹æœ¬æ¥ã®ç›®çš„ã®ä½œç”¨ã‚’ã€Œä¸»ä½œç”¨ã€ã¨ã„ã„ã¾ã™ã€‚ãã‚Œä»¥å¤–ã®å¥½ã¾ã—ããªã„ä½œç”¨ã‚’ã€Œå‰¯ä½œç”¨ã€ã¨ã„ã„ã¾ã™ã€‚"},
      {"id": "hoken_s11", "type": "choice", "question": "åŒ»å¸«ã®è¨ºæ–­ãƒ»å‡¦æ–¹ã«åŸºã¥ã„ã¦å‡ºã•ã‚Œã‚‹è–¬ã®ã“ã¨ã‚’ä½•ã¨ã„ã„ã¾ã™ã‹ï¼Ÿ", "options": {"a": "åŒ»ç™‚ç”¨åŒ»è–¬å“", "b": "ä¸€èˆ¬ç”¨åŒ»è–¬å“", "c": "åŒ»è–¬ç”¨åŒ»ç™‚å“"}, "answer": "a", "explanation": "åŒ»å¸«ã‹ã‚‰å‡¦æ–¹ã•ã‚Œã‚‹è–¬ã¯ã€ŒåŒ»ç™‚ç”¨åŒ»è–¬å“ã€ã§ã™ã€‚å‡¦æ–¹è–¬ã¨ã‚‚å‘¼ã°ã‚Œã¾ã™ã€‚"},
      {"id": "hoken_s12", "type": "choice", "question": "è–¬å±€ãªã©ã§è‡ªåˆ†ã®åˆ¤æ–­ã§è³¼å…¥ã§ãã‚‹è–¬ã®ã“ã¨ã‚’ä½•ã¨ã„ã„ã¾ã™ã‹ï¼Ÿ", "options": {"a": "åŒ»ç™‚ç”¨åŒ»è–¬å“", "b": "ä¸€èˆ¬ç”¨åŒ»è–¬å“", "c": "å°‚ç”¨åŒ»è–¬å“"}, "answer": "b", "explanation": "è–¬å±€ãªã©ã§ç›´æ¥è³¼å…¥ã§ãã‚‹è–¬ã¯ã€Œä¸€èˆ¬ç”¨åŒ»è–¬å“ã€ã§ã™ã€‚å¤§è¡†è–¬ã‚„å¸‚è²©è–¬ã€OTCåŒ»è–¬å“ã¨ã‚‚å‘¼ã°ã‚Œã¾ã™ã€‚"},
      {"id": "hoken_a02", "type": "choice", "question": "è‡ªåˆ†è‡ªèº«ã®å¥åº·ã«è²¬ä»»ã‚’æŒã¡ã€è»½ã„ã‘ãŒã‚„ç—…æ°—ã®éš›ã«ã€ä¸€èˆ¬ç”¨åŒ»è–¬å“ã€‘ãªã©ã‚’ä½¿ã£ã¦è‡ªåˆ†ã§æ‰‹å½“ã¦ã™ã‚‹ã“ã¨ã‚’ä½•ã¨ã„ã„ã¾ã™ã‹ï¼Ÿ", "options": {"a": "ãƒ˜ãƒ«ã‚¹ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³", "b": "ã‚»ãƒ«ãƒ•ã‚±ã‚¢", "c": "ã‚»ãƒ«ãƒ•ãƒ¡ãƒ‡ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³"}, "answer": "c", "explanation": "è‡ªåˆ†è‡ªèº«ã§å¥åº·ã‚’ç®¡ç†ã—ã€è»½ã„ç—‡çŠ¶ã®ã¨ãã«ä¸€èˆ¬ç”¨åŒ»è–¬å“ã§å¯¾å‡¦ã™ã‚‹ã“ã¨ã‚’ã€Œã‚»ãƒ«ãƒ•ãƒ¡ãƒ‡ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã¨ã„ã„ã¾ã™ã€‚"}
        ];

    // --- å®‰å…¨è£…ç½®ï¼ˆChatGPTææ¡ˆï¼‰---
    function deepFreeze(o){ Object.freeze(o); Object.getOwnPropertyNames(o).forEach(k=>{ const v=o[k]; if(typeof v==="object"&&v!==null&&!Object.isFrozen(v)) deepFreeze(v); }); return o;}
    function ensureUniqueIds(groups){ const seen=new Set(); for(const [subj, arr] of Object.entries(groups)){ for(const q of arr){ if(seen.has(q.id)) { console.error(`IDé‡è¤‡: ${q.id} (${subj})`); } seen.add(q.id); } } }

    // --- ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆ ---
    const ALL_QUESTIONS = {
      english: Q_ENGLISH,
      kokugo:  Q_KOKUGO,
      shakai:  Q_SHAKAI,
      rika:    Q_RIKA,
      kateika: Q_KATEIKA,
      bijutsu: Q_BIJUTSU,
      taiiku:  Q_TAIIKU,
    };
    ensureUniqueIds(ALL_QUESTIONS);
    deepFreeze(ALL_QUESTIONS);

    // ===== 2. ã‚¢ãƒ—ãƒªã®ä¸»è¦ãªå¤‰æ•° =====
    const STATUS = { PERFECT: 'perfect', REVIEW: 'review' };
    const SUBJECT_NAMES = {
      english: 'è‹±èª',
      kokugo:  'å›½èª',
      shakai:  'ç¤¾ä¼š',
      rika:    'ç†ç§‘',
      kateika: 'å®¶åº­ãƒ»æŠ€ç§‘',
      bijutsu: 'ç¾è¡“',
      taiiku:  'ä½“è‚²'
    };
    let currentSubject = '';
    let currentQuestions = [];
    let currentIndex = 0;
    let progress = {};
    let statsSubjectKey = ''; // ç¾åœ¨ç§‘ç›®ã®é€²æ—ä¿å­˜ã‚­ãƒ¼ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç”¨ï¼‰

    // ===== 3. ä¸»è¦ãªDOMè¦ç´  =====
    const homeScreen = document.getElementById('home-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const quizTitle = document.getElementById('quiz-title');
    const progressText = document.getElementById('progress-text');
    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const explanationBox = document.getElementById('explanation-box');
    const selfEvalContainer = document.getElementById('self-eval-container');
    const retryContainer = document.getElementById('retry-container');
    const backHomeBtn = document.getElementById('back-home-btn');
    const modeSelect = document.getElementById('mode-select');

    // â˜…â˜…â˜… å®‰å…¨ãªãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤ºé–¢æ•° â˜…â˜…â˜…
    function setQuestionText(el, text) {
      const esc = String(text).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
      el.innerHTML = esc.replace(/\n/g, "<br>");
    }

    // ===== 4. ã‚¯ã‚¤ã‚ºã®ãƒ­ã‚¸ãƒƒã‚¯ =====
    function getSelectedMode(){
      const sel = modeSelect ? modeSelect.querySelector('input[name="mode"]:checked') : null;
      return sel ? sel.value : 'all';
    }

    function startQuiz(subject) {
      currentSubject = subject;
      const startMode = getSelectedMode();
      statsSubjectKey = 'progress_' + currentSubject;
      loadProgress();
      
      if (!progress || typeof progress !== 'object') progress = {};
      if (!progress.statuses || typeof progress.statuses !== 'object') progress.statuses = {};
      if (!progress.stats || typeof progress.stats !== 'object') progress.stats = {};

      const allQs = ALL_QUESTIONS[subject] || [];
      const reviewQuestions = allQs.filter(q => q.type === 'choice' && progress.statuses[q.id] === STATUS.REVIEW);

      if (startMode === 'review') {
        progress.isReviewMode = true;
        currentQuestions = reviewQuestions.length > 0 ? reviewQuestions : [];
      } else {
        progress.isReviewMode = false;
        currentQuestions = allQs;
      }

      // éå¯¾å¿œã‚¿ã‚¤ãƒ—ï¼ˆä¸¦ã¹æ›¿ãˆãªã©ï¼‰ã¯ç¾è¡ŒUIã§ã¯æœªå¯¾å¿œã®ãŸã‚é™¤å¤–
      currentQuestions = currentQuestions.filter(q => q.type === 'choice');

      // ç©ºã®å¾©ç¿’ãƒªã‚¹ãƒˆã ã£ãŸå ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆå…¨å•ã«è‡ªå‹•åˆ‡æ›¿ï¼‰
      if (progress.isReviewMode && currentQuestions.length === 0) {
        progress.isReviewMode = false;
        currentQuestions = allQs.filter(q => q.type === 'choice');
      }

      if (currentIndex < 0 || currentIndex >= currentQuestions.length) {
        currentIndex = 0;
      }
      
      showScreen('quiz');
      displayQuestion();
    }

    function displayQuestion() {
      if (currentIndex >= currentQuestions.length) {
        handleQuizEnd();
        return;
      }

      const q = currentQuestions[currentIndex];
      quizTitle.textContent = SUBJECT_NAMES[currentSubject] || currentSubject;
      progressText.textContent = `${currentIndex + 1} / ${currentQuestions.length} å•`;
      
      setQuestionText(questionText, q.question);
      
      optionsContainer.innerHTML = '';
      explanationBox.style.display = 'none';
      selfEvalContainer.innerHTML = '';
      retryContainer.innerHTML = '';

      const keys = Object.keys(q.options).sort();
      for (const key of keys) {
        const button = document.createElement('button');
        button.className = 'option-button';
        button.dataset.key = key;
        button.textContent = `${key}. ${q.options[key]}`;
        button.onclick = () => checkAnswer(key, q.answer);
        optionsContainer.appendChild(button);
      }
    }

    function checkAnswer(selectedKey, correctKey) {
      const buttons = optionsContainer.getElementsByTagName('button');
      for (let i = 0; i < buttons.length; i++) buttons[i].disabled = true;

      for (let i = 0; i < buttons.length; i++) {
        const key = buttons[i].dataset.key;
        if (key === correctKey) {
          buttons[i].classList.add('correct');
        } else if (key === selectedKey) {
          buttons[i].classList.add('incorrect');
        }
      }

      const q = currentQuestions[currentIndex];
      // === å•é¡Œã”ã¨ã®æ­£è§£/ä¸æ­£è§£ã‚«ã‚¦ãƒ³ãƒˆã‚’æ›´æ–° ===
      if (!progress.stats) progress.stats = {};
      const stat = (progress.stats[q.id] = progress.stats[q.id] || { correct: 0, incorrect: 0 });
      const wasCorrect = (selectedKey === correctKey);
      if (wasCorrect) stat.correct++; else stat.incorrect++;
      flushProgress();
      const statNow = progress.stats && progress.stats[q.id] ? progress.stats[q.id] : { correct: 0, incorrect: 0 };
      const correctLabel = (q.options && q.options[correctKey]) ? `${correctKey}. ${q.options[correctKey]}` : String(correctKey);
      const selectedLabel = (q.options && q.options[selectedKey]) ? `${selectedKey}. ${q.options[selectedKey]}` : String(selectedKey);
      const nowPart = wasCorrect ? '[ä»Šå›] æ­£è§£' : '[ä»Šå›] ä¸æ­£è§£';
      const yourPart = (!wasCorrect && q.options && q.options[selectedKey]) ? `\n[ã‚ãªãŸã®å›ç­”] ${selectedLabel}` : '';
      explanationBox.textContent = `${q.explanation}\n${nowPart}\n[æ­£è§£] ${correctLabel}${yourPart}\n[ã“ã®å•é¡Œã®ç´¯è¨ˆ] æ­£è§£: ${statNow.correct} / ä¸æ­£è§£: ${statNow.incorrect}`;
      explanationBox.style.display = 'block';
      createSelfEvalButtons(); // å†å›ç­”ã§ã‚‚ãƒœã‚¿ãƒ³ã‚’å†åº¦ç”¨æ„
    }
    
    function createSelfEvalButtons() {
        selfEvalContainer.innerHTML = `
            <div class="self-eval-button perfect-btn" onclick="handleSelfEvaluation(STATUS.PERFECT)">å®Œç’§ï¼âœ¨</div>
            <div class="self-eval-button review-btn" onclick="handleSelfEvaluation(STATUS.REVIEW)">ã‚ã‚„ã—ã„â€¦ğŸ’¦</div>
        `;
        // ã™ãã«å¢—åˆ†ãŒè¦‹ãˆã‚‹ã‚ˆã†ã€åŒã˜å•é¡Œã‚’å†æŒ‘æˆ¦ã§ãã‚‹ãƒœã‚¿ãƒ³ã‚’ç”¨æ„
        retryContainer.innerHTML = `
            <button id="retry-btn" class="nav-btn" type="button">â†» ã‚‚ã†ä¸€åº¦ã“ã®å•é¡Œã‚’è§£ã</button>
        `;
        const rb = document.getElementById('retry-btn');
        if (rb && !rb.__bound) {
          rb.addEventListener('click', (e) => {
            e.preventDefault();
            retryCurrentQuestion();
          }, { passive: false });
          rb.__bound = true;
        }
    }

    function retryCurrentQuestion() {
      // åŒã˜å•é¡Œã‚’å‡ºã—ç›´ã™ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯é€²ã‚ãªã„ï¼‰
      const q = currentQuestions[currentIndex];
      if (!q) return;
      // å†æç”»
      setQuestionText(questionText, q.question);
      optionsContainer.innerHTML = '';
      explanationBox.style.display = 'none';
      selfEvalContainer.innerHTML = '';
      retryContainer.innerHTML = '';
      const keys = Object.keys(q.options).sort();
      for (const key of keys) {
        const button = document.createElement('button');
        button.className = 'option-button';
        button.dataset.key = key;
        button.textContent = `${key}. ${q.options[key]}`;
        button.onclick = () => checkAnswer(key, q.answer);
        optionsContainer.appendChild(button);
      }
    }

    function handleSelfEvaluation(status) {
      const q = currentQuestions[currentIndex];
      progress.statuses[q.id] = status;
      currentIndex++;
      flushProgress();
      displayQuestion();
    }

    function handleQuizEnd() {
      const remainCount = (ALL_QUESTIONS[currentSubject] || []).filter(q => q.type === 'choice' && progress.statuses[q.id] === STATUS.REVIEW).length;
      if (remainCount > 0) {
        if (confirm(`ãŠç–²ã‚Œæ§˜ï¼\nã¾ã ã€Œã‚ã‚„ã—ã„ã€å•é¡ŒãŒ ${remainCount} å•ã‚ã‚Šã¾ã™ã€‚ç¶šã‘ã¦å¾©ç¿’ã—ã¾ã™ã‹ï¼Ÿ`)) {
          progress.isReviewMode = true;
          currentIndex = 0;
          flushProgress();
          startQuiz(currentSubject);
          return;
        }
      }
      alert('å…¨å•çµ‚äº†ï¼ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼');
      showScreen('home');
    }

    // ===== æœ€å°ãƒ˜ãƒ«ãƒ‘ãƒ¼ï¼ˆæœªå®šç¾©ãªã‚‰ç”¨æ„ï¼‰ =====
    if (typeof showScreen !== 'function') {
      function showScreen(screenName) {
        document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
        const el = document.getElementById(`${screenName}-screen`);
        if (el) el.style.display = 'block';
      }
    }
    if (typeof loadProgress !== 'function') {
      function loadProgress() {
        // ç§‘ç›®ã”ã¨ã®ä¿å­˜ã‚­ãƒ¼ã§å¾©å…ƒï¼ˆå­˜åœ¨ã—ãªã„å ´åˆã¯åˆæœŸåŒ–ï¼‰
        const key = 'progress_' + currentSubject;
        try {
          const saved = localStorage.getItem(key);
          if (saved) {
            const s = JSON.parse(saved);
            progress = {
              statuses: (s && s.statuses) || {},
              isReviewMode: !!(s && s.isReviewMode),
              stats: (s && s.stats) || {}
            };
            currentIndex = Number.isInteger(s && s.currentIndex) ? s.currentIndex : 0;
          } else {
            progress = { statuses: {}, isReviewMode: false, stats: {} };
            currentIndex = 0;
          }
        } catch (e) {
          console.warn('é€²æ—ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ:', e);
          progress = { statuses: {}, isReviewMode: false, stats: {} };
          currentIndex = 0;
        }
      }
    }
    if (typeof flushProgress !== 'function') {
      function flushProgress() {
        const key = 'progress_' + currentSubject;
        try {
          const state = {
            statuses: progress.statuses || {},
            isReviewMode: !!progress.isReviewMode,
            currentIndex: currentIndex,
            stats: progress.stats || {}
          };
          localStorage.setItem(key, JSON.stringify(state));
        } catch (e) {
          console.warn('é€²æ—ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ:', e);
        }
      }
    }

    // ===== åˆæœŸè¡¨ç¤ºï¼ˆDOMèª­ã¿è¾¼ã¿å¾Œã«HOMEã‚’å¿…ãšè¡¨ç¤ºï¼‰ =====
    document.addEventListener('DOMContentLoaded', () => {
      showScreen('home');
      bindHomeButtons();
      if (backHomeBtn && !backHomeBtn.__bound) {
        backHomeBtn.addEventListener('click', (e) => {
          e.preventDefault();
          flushProgress();
          showScreen('home');
        }, { passive: false });
        backHomeBtn.__bound = true;
      }
    });

  </script>
</body>
</html>